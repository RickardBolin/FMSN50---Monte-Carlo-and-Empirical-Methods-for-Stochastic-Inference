clear
close all

N = 1000; %nbr of particles
steps = 100; %steps
dims = 2; %dimensions
X = zeros(steps,dims,N);
w = zeros(steps,N);



for i = 1:N
    for d = 1:dims
         X(1,d,i) = 0;
    end
    w(1,i) = 1;
end


for k = 2:steps
   for i = 1:N
       while 1
            d = randi(dims);
            X(k,d,i) = X(k-1,d,i

       end
       z = 1;
       if(length(unique(X(1:k,:,i))) < k)
           z = 0;
       end
       w(k,i) = w(k-1,i) * (z/(1/4));
       
   end
end
